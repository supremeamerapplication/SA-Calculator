<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SupremeGrid - Complete Tasks. Earn Status.</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        :root {
            --supreme-red: #ff0000;
            --supreme-black: #000000;
            --supreme-white: #ffffff;
            --supreme-gray: #f5f5f5;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            background-color: var(--supreme-black);
            color: var(--supreme-white);
            min-height: 100vh;
        }

        .app {
            max-width: 400px;
            margin: 0 auto;
            min-height: 100vh;
            background: var(--supreme-black);
        }

        /* Header */
        .header {
            background: var(--supreme-black);
            padding: 20px;
            border-bottom: 2px solid var(--supreme-red);
            text-align: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--supreme-white);
            margin-bottom: 5px;
        }

        .tagline {
            font-size: 12px;
            color: var(--supreme-red);
            letter-spacing: 1px;
        }

        /* Navigation */
        .nav {
            display: flex;
            background: var(--supreme-black);
            border-bottom: 1px solid #333;
        }

        .nav-item {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: var(--supreme-black);
            color: var(--supreme-white);
            border: none;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .nav-item.active {
            background: var(--supreme-red);
            color: var(--supreme-black);
        }

        /* Screens */
        .screen {
            display: none;
            padding: 20px;
        }

        .screen.active {
            display: block;
        }

        /* Auth Screen */
        .auth-container {
            text-align: center;
            padding: 40px 20px;
        }

        .auth-title {
            font-size: 24px;
            margin-bottom: 30px;
            color: var(--supreme-white);
        }

        .auth-input {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            background: #111;
            border: 1px solid #333;
            color: var(--supreme-white);
            font-size: 14px;
        }

        .auth-button {
            width: 100%;
            padding: 15px;
            background: var(--supreme-red);
            color: var(--supreme-black);
            border: none;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 10px;
        }

        .auth-switch {
            color: #666;
            font-size: 12px;
            cursor: pointer;
        }

        /* Grid Screen */
        .user-stats {
            background: #111;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid #333;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--supreme-red);
        }

        .stat-label {
            font-size: 10px;
            color: #666;
        }

        .streak-display {
            text-align: center;
            padding: 10px;
            background: #111;
            border: 1px solid #333;
            margin-bottom: 20px;
        }

        .streak-count {
            font-size: 24px;
            color: var(--supreme-red);
            font-weight: bold;
        }

        .drop-grid {
            display: grid;
            gap: 15px;
        }

        .drop-card {
            background: #111;
            border: 1px solid #333;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .drop-card:hover {
            border-color: var(--supreme-red);
        }

        .drop-tier {
            font-size: 10px;
            color: var(--supreme-red);
            font-weight: bold;
            margin-bottom: 5px;
            letter-spacing: 1px;
        }

        .drop-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .drop-reward {
            font-size: 14px;
            color: var(--supreme-red);
            font-weight: bold;
        }

        .drop-standard {
            border-left: 3px solid #666;
        }

        .drop-collab {
            border-left: 3px solid var(--supreme-red);
        }

        .drop-boxlogo {
            border-left: 3px solid gold;
        }

        /* Task Screen */
        .task-container {
            text-align: center;
        }

        .task-header {
            margin-bottom: 30px;
        }

        .task-title {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .task-reward {
            color: var(--supreme-red);
            font-weight: bold;
        }

        .task-content {
            background: #111;
            padding: 30px;
            margin-bottom: 20px;
            border: 1px solid #333;
        }

        .task-video {
            width: 100%;
            background: #000;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .task-button {
            width: 100%;
            padding: 20px;
            background: var(--supreme-red);
            color: var(--supreme-black);
            border: none;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }

        .task-button:disabled {
            background: #666;
            cursor: not-allowed;
        }

        .countdown {
            font-size: 14px;
            color: #666;
            margin-top: 10px;
        }

        /* Vault Screen */
        .vault-balance {
            text-align: center;
            padding: 40px 20px;
            background: #111;
            margin-bottom: 20px;
            border: 1px solid #333;
        }

        .balance-amount {
            font-size: 48px;
            font-weight: bold;
            color: var(--supreme-red);
        }

        .balance-label {
            font-size: 14px;
            color: #666;
        }

        .withdraw-options {
            display: grid;
            gap: 10px;
        }

        .withdraw-option {
            padding: 20px;
            background: #111;
            border: 1px solid #333;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }

        .withdraw-option:hover {
            border-color: var(--supreme-red);
        }

        /* Profile Screen */
        .profile-header {
            text-align: center;
            padding: 20px;
            background: #111;
            margin-bottom: 20px;
            border: 1px solid #333;
        }

        .profile-level {
            font-size: 14px;
            color: var(--supreme-red);
            margin-bottom: 10px;
        }

        .profile-handle {
            font-size: 18px;
            font-weight: bold;
        }

        .badges-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .badge {
            background: #111;
            padding: 20px 10px;
            border: 1px solid #333;
            text-align: center;
        }

        .badge.unlocked {
            border-color: var(--supreme-red);
        }

        .badge-name {
            font-size: 10px;
            margin-top: 5px;
        }

        .logout-button {
            width: 100%;
            padding: 15px;
            background: #333;
            color: var(--supreme-white);
            border: none;
            cursor: pointer;
            margin-top: 20px;
        }

        /* Completion Animation */
        .completion-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--supreme-black);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .completion-message {
            text-align: center;
            font-size: 32px;
            font-weight: bold;
            color: var(--supreme-red);
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <div class="header">
            <div class="logo">SUPREME GRID</div>
            <div class="tagline">COMPLETE TASKS. EARN STATUS.</div>
        </div>

        <!-- Navigation -->
        <div class="nav" id="nav" style="display: none;">
            <button class="nav-item active" data-screen="grid">THE GRID</button>
            <button class="nav-item" data-screen="vault">THE VAULT</button>
            <button class="nav-item" data-screen="profile">PROFILE</button>
        </div>

        <!-- Screens -->
        <div class="screen active" id="auth-screen">
            <div class="auth-container">
                <div class="auth-title">VERIFY TO ENTER</div>
                <input type="email" class="auth-input" id="email-input" placeholder="EMAIL" value="demo@supremegrid.com">
                <input type="password" class="auth-input" id="password-input" placeholder="PASSWORD" value="demopass123">
                <button class="auth-button" id="login-button">VERIFY</button>
                <div class="auth-switch" id="switch-to-signup">NO PROFILE? CREATE ONE</div>
            </div>
        </div>

        <div class="screen" id="grid-screen">
            <div class="user-stats">
                <div class="stat-row">
                    <div class="stat-item">
                        <div class="stat-value" id="credits-display">0</div>
                        <div class="stat-label">CREDITS</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="level-display">1</div>
                        <div class="stat-label">LEVEL</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="drops-completed">0</div>
                        <div class="stat-label">DROPS</div>
                    </div>
                </div>
            </div>

            <div class="streak-display">
                <div class="stat-label">CURRENT STREAK</div>
                <div class="streak-count" id="streak-display">0 DAYS</div>
            </div>

            <div class="drop-grid" id="drop-grid">
                <!-- Drops will be populated here -->
            </div>
        </div>

        <div class="screen" id="task-screen">
            <div class="task-header">
                <div class="drop-tier" id="task-tier">STANDARD DROP</div>
                <div class="task-title" id="task-title">Task Title</div>
                <div class="task-reward" id="task-reward">+0 CREDITS</div>
            </div>
            
            <div class="task-content">
                <div class="task-video">
                    <div>VIDEO CONTENT</div>
                </div>
                <div class="countdown" id="countdown">0s</div>
            </div>
            
            <button class="task-button" id="complete-task" disabled>COMPLETE TASK</button>
        </div>

        <div class="screen" id="vault-screen">
            <div class="vault-balance">
                <div class="balance-amount" id="vault-balance">0</div>
                <div class="balance-label">SUPREMECREDITS</div>
            </div>
            
            <div class="withdraw-options">
                <div class="withdraw-option">PAYPAL</div>
                <div class="withdraw-option">CASH APP</div>
                <div class="withdraw-option">SUPREMEAMER GIFT CARD (+10%)</div>
            </div>
        </div>

        <div class="screen" id="profile-screen">
            <div class="profile-header">
                <div class="profile-level">LEVEL <span id="profile-level">1</span></div>
                <div class="profile-handle" id="profile-handle">@USERNAME</div>
            </div>
            
            <div class="badges-grid" id="badges-grid">
                <!-- Badges will be populated here -->
            </div>
            
            <button class="logout-button" id="logout-button">LOG OUT</button>
        </div>

        <!-- Completion Overlay -->
        <div class="completion-overlay" id="completion-overlay">
            <div class="completion-message">DROP SECURED<br>+<span id="earned-credits">0</span> CREDITS</div>
        </div>
    </div>

    <script>
        // Supabase configuration
        const SUPABASE_URL = 'https://your-project.supabase.co';
        const SUPABASE_ANON_KEY = 'your-anon-key';
        
        // For demo purposes, we'll use localStorage instead of actual Supabase
        // In a real app, you would use the Supabase client like this:
        // const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Demo data
        const demoDrops = [
            { id: 1, title: "Watch Sneaker Ad", tier: "standard", reward: 25, duration: 5, completed: false },
            { id: 2, title: "Install Music App", tier: "collab", reward: 75, duration: 10, completed: false },
            { id: 3, title: "Brand Documentary", tier: "boxlogo", reward: 150, duration: 15, completed: false }
        ];

        const demoBadges = [
            { id: 1, name: "First Drop", unlocked: true },
            { id: 2, name: "Week One", unlocked: false },
            { id: 3, name: "Box Logo Hunter", unlocked: false },
            { id: 4, name: "Collab King", unlocked: false },
            { id: 5, name: "Supreme Status", unlocked: false },
            { id: 6, name: "Grid Master", unlocked: false }
        ];

        // App state
        let currentUser = null;
        let currentTask = null;
        let countdownInterval = null;

        // DOM elements
        const elements = {
            authScreen: document.getElementById('auth-screen'),
            gridScreen: document.getElementById('grid-screen'),
            taskScreen: document.getElementById('task-screen'),
            vaultScreen: document.getElementById('vault-screen'),
            profileScreen: document.getElementById('profile-screen'),
            nav: document.getElementById('nav'),
            dropGrid: document.getElementById('drop-grid'),
            creditsDisplay: document.getElementById('credits-display'),
            levelDisplay: document.getElementById('level-display'),
            dropsCompleted: document.getElementById('drops-completed'),
            streakDisplay: document.getElementById('streak-display'),
            taskTier: document.getElementById('task-tier'),
            taskTitle: document.getElementById('task-title'),
            taskReward: document.getElementById('task-reward'),
            countdown: document.getElementById('countdown'),
            completeTask: document.getElementById('complete-task'),
            vaultBalance: document.getElementById('vault-balance'),
            profileLevel: document.getElementById('profile-level'),
            profileHandle: document.getElementById('profile-handle'),
            badgesGrid: document.getElementById('badges-grid'),
            completionOverlay: document.getElementById('completion-overlay'),
            earnedCredits: document.getElementById('earned-credits')
        };

        // Initialize app
        function initApp() {
            loadUserState();
            setupEventListeners();
            renderDrops();
            renderBadges();
        }

        // Load user state from localStorage
        function loadUserState() {
            const savedUser = localStorage.getItem('supremegrid_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showApp();
            } else {
                showAuth();
            }
        }

        // Save user state to localStorage
        function saveUserState() {
            if (currentUser) {
                localStorage.setItem('supremegrid_user', JSON.stringify(currentUser));
            }
        }

        // Event listeners
        function setupEventListeners() {
            // Auth
            document.getElementById('login-button').addEventListener('click', handleAuth);
            document.getElementById('switch-to-signup').addEventListener('click', switchToSignup);
            
            // Navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    showScreen(e.target.dataset.screen);
                    document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                    e.target.classList.add('active');
                });
            });

            // Task completion
            document.getElementById('complete-task').addEventListener('click', completeTask);
            
            // Logout
            document.getElementById('logout-button').addEventListener('click', logout);
        }

        // Auth handler
        function handleAuth() {
            const email = document.getElementById('email-input').value;
            const password = document.getElementById('password-input').value;
            
            // Demo auth - in real app, use Supabase auth
            currentUser = {
                id: 'demo-user',
                email: email,
                handle: '@supremeuser',
                credits: 125,
                level: 2,
                dropsCompleted: 3,
                streak: 7,
                badges: demoBadges
            };
            
            saveUserState();
            showApp();
        }

        function switchToSignup() {
            // Simple demo - just switch placeholder text
            document.getElementById('login-button').textContent = 'CREATE PROFILE';
            document.getElementById('switch-to-signup').style.display = 'none';
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('supremegrid_user');
            showAuth();
        }

        // Screen management
        function showAuth() {
            hideAllScreens();
            elements.authScreen.classList.add('active');
            elements.nav.style.display = 'none';
        }

        function showApp() {
            hideAllScreens();
            elements.gridScreen.classList.add('active');
            elements.nav.style.display = 'flex';
            updateUserDisplay();
        }

        function showScreen(screenName) {
            hideAllScreens();
            document.getElementById(screenName + '-screen').classList.add('active');
        }

        function hideAllScreens() {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
        }

        // Render drops
        function renderDrops() {
            elements.dropGrid.innerHTML = '';
            demoDrops.forEach(drop => {
                const dropElement = document.createElement('div');
                dropElement.className = `drop-card drop-${drop.tier}`;
                dropElement.innerHTML = `
                    <div class="drop-tier">${drop.tier.toUpperCase()} DROP</div>
                    <div class="drop-title">${drop.title}</div>
                    <div class="drop-reward">+${drop.reward} CREDITS</div>
                `;
                dropElement.addEventListener('click', () => startTask(drop));
                elements.dropGrid.appendChild(dropElement);
            });
        }

        // Render badges
        function renderBadges() {
            elements.badgesGrid.innerHTML = '';
            demoBadges.forEach(badge => {
                const badgeElement = document.createElement('div');
                badgeElement.className = `badge ${badge.unlocked ? 'unlocked' : ''}`;
                badgeElement.innerHTML = `
                    <div>‚óè</div>
                    <div class="badge-name">${badge.name}</div>
                `;
                elements.badgesGrid.appendChild(badgeElement);
            });
        }

        // Start task
        function startTask(task) {
            currentTask = task;
            elements.taskTier.textContent = task.tier.toUpperCase() + ' DROP';
            elements.taskTitle.textContent = task.title;
            elements.taskReward.textContent = `+${task.reward} CREDITS`;
            elements.countdown.textContent = `${task.duration}s`;
            elements.completeTask.disabled = true;
            
            let timeLeft = task.duration;
            countdownInterval = setInterval(() => {
                timeLeft--;
                elements.countdown.textContent = `${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    elements.completeTask.disabled = false;
                }
            }, 1000);
            
            showScreen('task');
        }

        // Complete task
        function completeTask() {
            if (!currentTask || !currentUser) return;
            
            // Update user state
            currentUser.credits += currentTask.reward;
            currentUser.dropsCompleted += 1;
            
            // Mark task as completed
            const taskIndex = demoDrops.findIndex(drop => drop.id === currentTask.id);
            if (taskIndex !== -1) {
                demoDrops[taskIndex].completed = true;
            }
            
            // Show completion animation
            elements.earnedCredits.textContent = currentTask.reward;
            elements.completionOverlay.style.display = 'flex';
            
            setTimeout(() => {
                elements.completionOverlay.style.display = 'none';
                saveUserState();
                updateUserDisplay();
                showScreen('grid');
            }, 2000);
        }

        // Update user display
        function updateUserDisplay() {
            if (!currentUser) return;
            
            elements.creditsDisplay.textContent = currentUser.credits;
            elements.levelDisplay.textContent = currentUser.level;
            elements.dropsCompleted.textContent = currentUser.dropsCompleted;
            elements.streakDisplay.textContent = currentUser.streak + ' DAYS';
            elements.vaultBalance.textContent = currentUser.credits;
            elements.profileLevel.textContent = currentUser.level;
            elements.profileHandle.textContent = currentUser.handle;
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>