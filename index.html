<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiBi Catering - Premium Catering Services</title>
    <meta name="description" content="Professional catering services for weddings, corporate events, and private parties">
    <meta name="theme-color" content="#e63946">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <style>
        :root {
            --primary: #e63946;
            --secondary: #457b9d;
            --accent: #2a9d8f;
            --light: #f1faee;
            --dark: #1d3557;
            --gold: #FFD700;
            --gradient-primary: linear-gradient(135deg, #e63946, #ff6b6b);
            --gradient-dark: linear-gradient(135deg, #1d3557, #457b9d);
            --gradient-success: linear-gradient(135deg, #2a9d8f, #4ecdc4);
            --shadow-sm: 0 2px 10px rgba(0,0,0,0.05);
            --shadow-md: 0 5px 20px rgba(0,0,0,0.1);
            --shadow-lg: 0 15px 40px rgba(0,0,0,0.15);
            --radius-sm: 10px;
            --radius-md: 20px;
            --radius-lg: 30px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        .animate-fade-in { animation: fadeIn 1s ease-out; }
        .animate-slide-up { animation: slideInUp 0.8s ease-out; }
        .animate-slide-left { animation: slideInLeft 0.8s ease-out; }
        .animate-slide-right { animation: slideInRight 0.8s ease-out; }
        .animate-pulse { animation: pulse 2s infinite; }
        .animate-float { animation: float 6s ease-in-out infinite; }

        /* PWA Install Button */
        .pwa-install-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 25px;
            font-weight: 600;
            cursor: pointer;
            display: none;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            animation: slideInUp 0.5s ease-out;
        }

        .pwa-install-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 40px rgba(230, 57, 70, 0.3);
        }

        /* Marquee Banner */
        .marquee-banner {
            background: var(--gradient-primary);
            color: white;
            padding: 15px 0;
            overflow: hidden;
            position: relative;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .marquee-content {
            display: flex;
            animation: marquee 25s linear infinite;
            white-space: nowrap;
        }

        .marquee-item {
            display: flex;
            align-items: center;
            margin: 0 40px;
            padding: 5px 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .marquee-item i {
            margin-right: 10px;
            color: var(--gold);
        }

        /* Header & Navigation */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 3px solid var(--primary);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
        }

        .logo-placeholder {
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
            border: 3px solid var(--gold);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .logo-placeholder:hover {
            transform: rotate(360deg) scale(1.1);
        }

        .company-name {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 30px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .nav-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            transition: var(--transition);
            z-index: -1;
        }

        .nav-links a:hover::before {
            left: 0;
        }

        .nav-links a:hover {
            color: white;
            transform: translateY(-2px);
        }

        .nav-links a.active {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .hamburger {
            display: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--dark);
            transition: var(--transition);
        }

        .hamburger:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }

        /* Theme Toggle */
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
        }

        .theme-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .theme-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 34px;
            transition: var(--transition);
        }

        .theme-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background: white;
            border-radius: 50%;
            transition: var(--transition);
        }

        .theme-toggle input:checked + .theme-slider {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .theme-toggle input:checked + .theme-slider:before {
            transform: translateX(30px);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(29, 53, 87, 0.9), rgba(29, 53, 87, 0.95)), url('https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding: 8rem 5%;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            animation: shimmer 3s infinite linear;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
            margin: 0 auto;
        }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: 4rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
            background: linear-gradient(to right, #fff, var(--gold));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
            animation: slideInUp 1s ease-out;
        }

        .hero p {
            font-size: 1.3rem;
            margin: 0 auto 3rem;
            opacity: 0.9;
            line-height: 1.8;
            animation: slideInUp 1.2s ease-out;
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            margin-top: 2rem;
            animation: slideInUp 1.4s ease-out;
        }

        /* Service Categories */
        .services-section {
            padding: 6rem 5%;
            background: white;
            position: relative;
        }

        .section-title {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title h2 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            color: var(--dark);
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 5px;
            background: var(--gradient-primary);
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 5px;
            animation: slideInLeft 1s ease-out;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2.5rem;
            margin-top: 3rem;
        }

        .service-card {
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            position: relative;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .service-card:hover {
            transform: translateY(-20px) rotateX(5deg);
            box-shadow: var(--shadow-lg);
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient-primary);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .service-card:hover::before {
            transform: scaleX(1);
        }

        .service-image {
            height: 250px;
            overflow: hidden;
            position: relative;
        }

        .service-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s ease;
        }

        .service-card:hover .service-image img {
            transform: scale(1.2) rotate(2deg);
        }

        .service-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            display: flex;
            align-items: flex-end;
            padding: 2rem;
            opacity: 0;
            transition: var(--transition);
        }

        .service-card:hover .service-overlay {
            opacity: 1;
        }

        /* Booking Modal */
        .booking-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: white;
            border-radius: var(--radius-lg);
            padding: 3rem;
            max-width: 600px;
            width: 90%;
            position: relative;
            animation: slideInUp 0.5s ease-out;
            box-shadow: var(--shadow-lg);
        }

        /* Share Modal */
        .share-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .share-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .share-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1.5rem;
            background: white;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .share-option:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: var(--shadow-lg);
        }

        .share-option i {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        /* Stats Section */
        .stats-section {
            background: var(--gradient-dark);
            color: white;
            padding: 5rem 5%;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .stat-item {
            padding: 2rem;
            background: rgba(255,255,255,0.1);
            border-radius: var(--radius-md);
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .stat-item:hover {
            transform: translateY(-10px);
            background: rgba(255,255,255,0.2);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: var(--gold);
        }

        /* Testimonials */
        .testimonials-section {
            padding: 6rem 5%;
            background: var(--light);
        }

        .swiper-container {
            width: 100%;
            padding: 50px 0;
        }

        .testimonial-card {
            background: white;
            padding: 2.5rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .testimonial-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: white;
            padding: 4rem 5% 2rem;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--gradient-primary);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Buttons */
        .btn {
            padding: 1rem 2.5rem;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(230, 57, 70, 0.3);
        }

        .btn-whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-whatsapp:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(37, 211, 102, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-5px);
        }

        /* Toggle Sections */
        .toggle-section {
            margin: 2rem 0;
            background: white;
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }

        .toggle-header {
            padding: 1.5rem;
            background: var(--gradient-primary);
            color: white;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
        }

        .toggle-header:hover {
            background: var(--gradient-primary);
            transform: scale(1.02);
        }

        .toggle-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .toggle-content.active {
            padding: 2rem;
            max-height: 1000px;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 3px solid rgba(0,0,0,0.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--gradient-success);
            color: white;
            padding: 1rem 2rem;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            z-index: 3000;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .notification.show {
            transform: translateX(-50%) translateY(0);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero h1 {
                font-size: 3rem;
            }
            
            .services-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .hamburger {
                display: block;
            }
            
            .nav-links {
                position: fixed;
                top: 80px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 80px);
                background: white;
                flex-direction: column;
                padding: 2rem;
                transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: var(--shadow-lg);
                z-index: 999;
                justify-content: flex-start;
                gap: 1rem;
            }
            
            .nav-links.active {
                left: 0;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
        }

        @media (max-width: 480px) {
            .company-name {
                font-size: 1.5rem;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .section-title h2 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- PWA Install Button -->
    <button id="installBtn" class="pwa-install-btn">
        <i class="fas fa-download"></i> Install App
    </button>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <!-- Marquee Banner -->
    <div class="marquee-banner">
        <div class="marquee-content">
            <div class="marquee-item"><i class="fas fa-star"></i> Premium Catering Services</div>
            <div class="marquee-item"><i class="fas fa-truck"></i> Free Delivery for Orders Above $500</div>
            <div class="marquee-item"><i class="fas fa-clock"></i> 24/7 Customer Support Available</div>
            <div class="marquee-item"><i class="fas fa-gift"></i> Special Discount for First Booking</div>
            <div class="marquee-item"><i class="fas fa-check-circle"></i> 100% Satisfaction Guaranteed</div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <nav class="navbar">
            <div class="logo-container" onclick="showSection('home')">
                <div class="logo-placeholder animate-pulse">
                    <span>BC</span>
                </div>
                <h1 class="company-name">BiBi Catering</h1>
            </div>
            
            <div class="nav-links">
                <a href="#" class="active" onclick="showSection('home')">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="#" onclick="showSection('services')">
                    <i class="fas fa-utensils"></i> Services
                </a>
                <a href="#" onclick="showSection('booking')">
                    <i class="fas fa-calendar-check"></i> Book Now
                </a>
                <a href="#" onclick="showSection('share')">
                    <i class="fas fa-share-alt"></i> Share
                </a>
                <a href="#" onclick="showSection('about')">
                    <i class="fas fa-info-circle"></i> About
                </a>
                
                <!-- Theme Toggle -->
                <label class="theme-toggle">
                    <input type="checkbox" id="themeToggle">
                    <span class="theme-slider"></span>
                </label>
            </div>
            
            <div class="hamburger" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="mainContent">
        <!-- Home Section -->
        <section id="home" class="section">
            <div class="hero">
                <div class="hero-content">
                    <h1>Exquisite Catering Experiences</h1>
                    <p>Transform your events into unforgettable moments with our premium catering services. From intimate gatherings to grand celebrations, we deliver culinary excellence.</p>
                    
                    <div class="hero-buttons">
                        <button class="btn btn-primary animate-float" onclick="showSection('services')">
                            <i class="fas fa-eye"></i> Explore Services
                        </button>
                        <button class="btn btn-whatsapp" onclick="startWhatsAppBooking()">
                            <i class="fab fa-whatsapp"></i> Instant Booking
                        </button>
                    </div>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="stats-section">
                <div class="stats-grid">
                    <div class="stat-item animate-slide-up">
                        <div class="stat-number" id="clientsCount">0</div>
                        <p>Happy Clients</p>
                    </div>
                    <div class="stat-item animate-slide-up" style="animation-delay: 0.2s">
                        <div class="stat-number" id="eventsCount">0</div>
                        <p>Events Catered</p>
                    </div>
                    <div class="stat-item animate-slide-up" style="animation-delay: 0.4s">
                        <div class="stat-number" id="serviceCount">0</div>
                        <p>Services Offered</p>
                    </div>
                    <div class="stat-item animate-slide-up" style="animation-delay: 0.6s">
                        <div class="stat-number" id="ratingCount">0</div>
                        <p>Average Rating</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="section hidden">
            <div class="services-section">
                <div class="section-title">
                    <h2>Our Premium Services</h2>
                    <p>Discover our wide range of catering services for every occasion</p>
                </div>

                <div class="services-grid" id="servicesContainer">
                    <!-- Services will be loaded from Supabase -->
                </div>

                <!-- Toggle Section for FAQs -->
                <div class="toggle-section">
                    <div class="toggle-header" onclick="toggleFAQ()">
                        <h3>Frequently Asked Questions</h3>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="toggle-content" id="faqContent">
                        <div class="faq-item">
                            <h4>How far in advance should I book?</h4>
                            <p>We recommend booking at least 2-4 weeks in advance for optimal planning and menu customization.</p>
                        </div>
                        <div class="faq-item">
                            <h4>Do you provide tastings?</h4>
                            <p>Yes, we offer complimentary tastings for events with 50+ guests.</p>
                        </div>
                        <div class="faq-item">
                            <h4>What's your cancellation policy?</h4>
                            <p>Cancellations made 7+ days before the event receive a full refund.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Booking Section -->
        <section id="booking" class="section hidden">
            <div class="services-section">
                <div class="section-title">
                    <h2>Book Your Event</h2>
                    <p>Simple steps to book our catering services</p>
                </div>

                <div class="booking-form" id="bookingForm">
                    <!-- Booking form will be generated here -->
                </div>

                <!-- WhatsApp Quick Booking -->
                <div style="text-align: center; margin-top: 3rem; padding: 3rem; background: linear-gradient(135deg, #25D366, #128C7E); border-radius: var(--radius-lg); color: white;">
                    <h3 style="font-size: 2rem; margin-bottom: 1rem;">Instant WhatsApp Booking</h3>
                    <p style="margin-bottom: 2rem;">Get instant quotes and personalized service via WhatsApp</p>
                    <button class="btn btn-primary" onclick="startWhatsAppBooking()" style="font-size: 1.2rem; padding: 1rem 3rem;">
                        <i class="fab fa-whatsapp"></i> Chat on WhatsApp
                    </button>
                </div>
            </div>
        </section>

        <!-- Share Section -->
        <section id="share" class="section hidden">
            <div class="services-section">
                <div class="section-title">
                    <h2>Share Our Services</h2>
                    <p>Help others discover our premium catering services</p>
                </div>

                <div class="share-options">
                    <div class="share-option" onclick="shareService('whatsapp')">
                        <i class="fab fa-whatsapp" style="color: #25D366;"></i>
                        <span>WhatsApp</span>
                    </div>
                    <div class="share-option" onclick="shareService('facebook')">
                        <i class="fab fa-facebook" style="color: #1877F2;"></i>
                        <span>Facebook</span>
                    </div>
                    <div class="share-option" onclick="shareService('instagram')">
                        <i class="fab fa-instagram" style="color: #E4405F;"></i>
                        <span>Instagram</span>
                    </div>
                    <div class="share-option" onclick="shareService('twitter')">
                        <i class="fab fa-twitter" style="color: #1DA1F2;"></i>
                        <span>Twitter</span>
                    </div>
                    <div class="share-option" onclick="copyShareLink()">
                        <i class="fas fa-link" style="color: var(--primary);"></i>
                        <span>Copy Link</span>
                    </div>
                    <div class="share-option" onclick="downloadBrochure()">
                        <i class="fas fa-download" style="color: var(--accent);"></i>
                        <span>Brochure</span>
                    </div>
                </div>

                <!-- QR Code for Sharing -->
                <div style="text-align: center; margin-top: 3rem;">
                    <h3>Scan to Share</h3>
                    <div id="qrCodeContainer" style="margin: 2rem auto; width: 200px; height: 200px;"></div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section hidden">
            <div class="services-section">
                <div class="section-title">
                    <h2>About BiBi Catering</h2>
                    <p>Excellence in catering since 2010</p>
                </div>

                <!-- Testimonials -->
                <div class="testimonials-section">
                    <div class="swiper-container">
                        <div class="swiper-wrapper" id="testimonialsContainer">
                            <!-- Testimonials loaded from Supabase -->
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>BiBi Catering</h3>
                <p>Premium catering services with a commitment to quality and excellence.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <a href="#" onclick="showSection('home')">Home</a>
                <a href="#" onclick="showSection('services')">Services</a>
                <a href="#" onclick="showSection('booking')">Booking</a>
                <a href="#" onclick="showSection('share')">Share</a>
                <a href="#" onclick="showSection('about')">About</a>
            </div>
            
            <div class="footer-section">
                <h3>Contact</h3>
                <p><i class="fas fa-map-marker-alt"></i> 123 Catering Street</p>
                <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                <p><i class="fas fa-envelope"></i> info@bibicatering.com</p>
                <p><i class="fas fa-clock"></i> 24/7 Service</p>
            </div>
            
            <div class="footer-section">
                <h3>Newsletter</h3>
                <p>Subscribe for updates and offers</p>
                <input type="email" placeholder="Your email" style="width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: none;">
                <button class="btn btn-primary" style="width: 100%;">Subscribe</button>
            </div>
        </div>
        
        <div style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1);">
            <p>© 2024 BiBi Catering. All rights reserved.</p>
        </div>
    </footer>

    <!-- Modals -->
    <div id="shareModal" class="share-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeShareModal()">&times;</span>
            <h3>Share Service</h3>
            <div id="shareModalContent"></div>
        </div>
    </div>

    <div id="bookingModal" class="booking-modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeBookingModal()">&times;</span>
            <h3>Book Service</h3>
            <div id="bookingModalContent"></div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    
    <script>
        // Supabase Configuration
        const SUPABASE_URL = 'https://your-project.supabase.co';
        const SUPABASE_ANON_KEY = 'your-anon-key';
        
        // Initialize Supabase
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        // App State
        let currentUser = null;
        let services = [];
        let deferredPrompt = null;
        
        // Initialize App
        document.addEventListener('DOMContentLoaded', async () => {
            initPWA();
            initAnimations();
            initStatsCounter();
            loadServices();
            loadTestimonials();
            initSwiper();
            checkAuth();
            
            // Theme toggle
            const themeToggle = document.getElementById('themeToggle');
            themeToggle.addEventListener('change', toggleTheme);
            
            // Set current theme
            if (localStorage.getItem('theme') === 'dark') {
                themeToggle.checked = true;
                document.body.classList.add('dark-theme');
            }
        });
        
        // PWA Installation
        function initPWA() {
            // Create manifest
            const manifest = {
                "name": "BiBi Catering",
                "short_name": "BiBiCatering",
                "description": "Premium catering services platform",
                "start_url": "/",
                "display": "standalone",
                "background_color": "#f8f9fa",
                "theme_color": "#e63946",
                "icons": [
                    {
                        "src": "https://via.placeholder.com/192x192/e63946/ffffff?text=BC",
                        "sizes": "192x192",
                        "type": "image/png"
                    },
                    {
                        "src": "https://via.placeholder.com/512x512/e63946/ffffff?text=BC",
                        "sizes": "512x512",
                        "type": "image/png"
                    }
                ]
            };
            
            // Convert to JSON string and create blob URL
            const manifestBlob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
            const manifestURL = URL.createObjectURL(manifestBlob);
            
            // Create link element
            const link = document.createElement('link');
            link.rel = 'manifest';
            link.href = manifestURL;
            document.head.appendChild(link);
            
            // Handle install prompt
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                document.getElementById('installBtn').style.display = 'flex';
            });
            
            // Install button click
            document.getElementById('installBtn').addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    if (outcome === 'accepted') {
                        showNotification('App installed successfully!');
                    }
                    deferredPrompt = null;
                    document.getElementById('installBtn').style.display = 'none';
                }
            });
            
            // Check if app is already installed
            window.addEventListener('appinstalled', () => {
                showNotification('Thank you for installing BiBi Catering!');
                document.getElementById('installBtn').style.display = 'none';
            });
        }
        
        // Supabase Database Functions
        async function loadServices() {
            try {
                // In production, fetch from Supabase
                // For demo, using mock data
                services = [
                    {
                        id: 1,
                        name: "Wedding Catering",
                        description: "Make your special day unforgettable with our exquisite wedding catering services.",
                        price: 45,
                        image: "https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                        features: ["Custom menu", "Tasting sessions", "Wedding cake", "Full service"],
                        category: "premium"
                    },
                    {
                        id: 2,
                        name: "Corporate Events",
                        description: "Professional catering for business meetings and conferences.",
                        price: 35,
                        image: "https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                        features: ["Conference packages", "Office lunch", "Board meetings", "Gala dinners"],
                        category: "business"
                    },
                    {
                        id: 3,
                        name: "Private Parties",
                        description: "Birthdays, anniversaries, or family gatherings with delicious food.",
                        price: 30,
                        image: "https://images.unsplash.com/photo-1530103862676-de8c9debad1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                        features: ["Birthday packages", "Anniversary celebrations", "Family reunions", "Themed parties"],
                        category: "social"
                    },
                    {
                        id: 4,
                        name: "Buffet Services",
                        description: "Perfect for large gatherings with diverse tastes and preferences.",
                        price: 25,
                        image: "https://images.unsplash.com/photo-1578474846511-04ba529f0b88?ixlib=rb-4.0.3&auto=format&fit=crop&w=800",
                        features: ["Live stations", "International cuisine", "Dessert buffet", "Dietary options"],
                        category: "buffet"
                    }
                ];
                
                renderServices();
                
            } catch (error) {
                console.error('Error loading services:', error);
                showNotification('Error loading services. Please try again.');
            }
        }
        
        async function loadTestimonials() {
            try {
                // Mock testimonials
                const testimonials = [
                    {
                        id: 1,
                        name: "Sarah Johnson",
                        text: "BiBi Catering made our wedding absolutely perfect! The food was exquisite.",
                        rating: 5,
                        event: "Wedding"
                    },
                    {
                        id: 2,
                        name: "Michael Chen",
                        text: "Professional service and delicious food for our corporate event.",
                        rating: 5,
                        event: "Corporate"
                    },
                    {
                        id: 3,
                        name: "Emma Wilson",
                        text: "The birthday party catering was fantastic! Everyone loved the food.",
                        rating: 4,
                        event: "Birthday"
                    }
                ];
                
                renderTestimonials(testimonials);
                
            } catch (error) {
                console.error('Error loading testimonials:', error);
            }
        }
        
        async function saveBooking(bookingData) {
            try {
                // In production, save to Supabase
                const { data, error } = await supabase
                    .from('bookings')
                    .insert([bookingData]);
                
                if (error) throw error;
                
                showNotification('Booking submitted successfully!');
                return data;
                
            } catch (error) {
                console.error('Error saving booking:', error);
                showNotification('Error saving booking. Please try again.');
            }
        }
        
        // Render Functions
        function renderServices() {
            const container = document.getElementById('servicesContainer');
            container.innerHTML = '';
            
            services.forEach((service, index) => {
                const card = document.createElement('div');
                card.className = 'service-card animate-slide-up';
                card.style.animationDelay = `${index * 0.1}s`;
                card.innerHTML = `
                    <div class="service-image">
                        <img src="${service.image}" alt="${service.name}" loading="lazy">
                        <div class="service-overlay">
                            <h3 style="color: white; margin: 0;">${service.name}</h3>
                        </div>
                    </div>
                    <div class="service-content">
                        <h3>${service.name}</h3>
                        <p>${service.description}</p>
                        <div class="service-features">
                            ${service.features.map(feat => `<div><i class="fas fa-check"></i> ${feat}</div>`).join('')}
                        </div>
                        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                            <button class="btn btn-primary" onclick="openBookingModal(${service.id})">
                                <i class="fas fa-calendar-check"></i> Book Now
                            </button>
                            <button class="btn btn-outline" onclick="shareServiceModal(${service.id})">
                                <i class="fas fa-share-alt"></i> Share
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        
        function renderTestimonials(testimonials) {
            const container = document.getElementById('testimonialsContainer');
            container.innerHTML = '';
            
            testimonials.forEach(testimonial => {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                slide.innerHTML = `
                    <div class="testimonial-card">
                        <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                            <div style="width: 50px; height: 50px; background: var(--gradient-primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 1rem;">
                                ${testimonial.name.charAt(0)}
                            </div>
                            <div>
                                <h4 style="margin: 0;">${testimonial.name}</h4>
                                <div style="color: var(--gold);">
                                    ${'★'.repeat(testimonial.rating)}${'☆'.repeat(5 - testimonial.rating)}
                                </div>
                            </div>
                        </div>
                        <p>"${testimonial.text}"</p>
                        <div style="color: var(--gray); font-size: 0.9rem;">${testimonial.event} Event</div>
                    </div>
                `;
                container.appendChild(slide);
            });
        }
        
        // Animations
        function initAnimations() {
            // Intersection Observer for scroll animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-fade-in');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '50px'
            });
            
            // Observe elements
            document.querySelectorAll('.service-card, .stat-item, .testimonial-card').forEach(el => {
                observer.observe(el);
            });
        }
        
        function initStatsCounter() {
            const clients = document.getElementById('clientsCount');
            const events = document.getElementById('eventsCount');
            const service = document.getElementById('serviceCount');
            const rating = document.getElementById('ratingCount');
            
            animateCounter(clients, 0, 1250, 2000);
            animateCounter(events, 0, 540, 2000);
            animateCounter(service, 0, 12, 2000);
            animateCounter(rating, 0, 4.9, 2000);
        }
        
        function animateCounter(element, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const value = start + progress * (end - start);
                element.textContent = end === 4.9 ? value.toFixed(1) : Math.floor(value);
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }
        
        // Toggle Functions
        function toggleMenu() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.classList.toggle('active');
            const hamburger = document.querySelector('.hamburger i');
            hamburger.classList.toggle('fa-bars');
            hamburger.classList.toggle('fa-times');
        }
        
        function toggleFAQ() {
            const content = document.getElementById('faqContent');
            const icon = document.querySelector('.toggle-header i');
            content.classList.toggle('active');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');
        }
        
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            localStorage.setItem('theme', document.body.classList.contains('dark-theme') ? 'dark' : 'light');
        }
        
        // Navigation
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.remove('hidden');
            
            // Update navigation
            updateNavigation(sectionId);
            
            // Close mobile menu if open
            if (window.innerWidth <= 768) {
                document.querySelector('.nav-links').classList.remove('active');
                const hamburger = document.querySelector('.hamburger i');
                hamburger.classList.remove('fa-times');
                hamburger.classList.add('fa-bars');
            }
        }
        
        function updateNavigation(sectionId) {
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
                if (link.textContent.includes(sectionId.charAt(0).toUpperCase() + sectionId.slice(1))) {
                    link.classList.add('active');
                }
            });
        }
        
        // Share Functions
        async function shareService(platform) {
            const service = services[0]; // Default to first service
            const text = `Check out ${service.name} from BiBi Catering! ${service.description}`;
            const url = window.location.href;
            const image = service.image;
            
            let shareUrl;
            switch(platform) {
                case 'whatsapp':
                    shareUrl = `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
                    break;
                case 'instagram':
                    // Instagram doesn't support direct sharing, show image download
                    downloadImage(image, 'bibicatering-service.jpg');
                    return;
            }
            
            window.open(shareUrl, '_blank');
        }
        
        function shareServiceModal(serviceId) {
            const service = services.find(s => s.id === serviceId);
            const modal = document.getElementById('shareModal');
            const content = document.getElementById('shareModalContent');
            
            content.innerHTML = `
                <div style="text-align: center;">
                    <img src="${service.image}" alt="${service.name}" style="width: 100%; max-height: 300px; object-fit: cover; border-radius: 10px; margin-bottom: 1rem;">
                    <h4>${service.name}</h4>
                    <p>${service.description}</p>
                    <div class="share-options">
                        <button class="btn btn-whatsapp" onclick="shareViaWhatsApp(${serviceId})">
                            <i class="fab fa-whatsapp"></i> WhatsApp
                        </button>
                        <button class="btn" style="background: #1877F2; color: white;" onclick="shareViaFacebook(${serviceId})">
                            <i class="fab fa-facebook"></i> Facebook
                        </button>
                        <button class="btn" style="background: #1DA1F2; color: white;" onclick="shareViaTwitter(${serviceId})">
                            <i class="fab fa-twitter"></i> Twitter
                        </button>
                    </div>
                    <div style="margin-top: 2rem;">
                        <button class="btn btn-outline" onclick="copyServiceLink(${serviceId})">
                            <i class="fas fa-copy"></i> Copy Link
                        </button>
                    </div>
                </div>
            `;
            
            modal.style.display = 'flex';
        }
        
        function shareViaWhatsApp(serviceId) {
            const service = services.find(s => s.id === serviceId);
            const message = `Check out ${service.name} from BiBi Catering!\n${service.description}\nBook now: ${window.location.origin}?service=${serviceId}`;
            window.open(`https://wa.me/?text=${encodeURIComponent(message)}`, '_blank');
        }
        
        function shareViaFacebook(serviceId) {
            const url = `${window.location.origin}?service=${serviceId}`;
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
        }
        
        function shareViaTwitter(serviceId) {
            const service = services.find(s => s.id === serviceId);
            const text = `Check out ${service.name} from BiBi Catering!`;
            const url = `${window.location.origin}?service=${serviceId}`;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
        }
        
        function copyServiceLink(serviceId) {
            const url = `${window.location.origin}?service=${serviceId}`;
            navigator.clipboard.writeText(url).then(() => {
                showNotification('Link copied to clipboard!');
            });
        }
        
        function copyShareLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                showNotification('Link copied to clipboard!');
            });
        }
        
        function downloadBrochure() {
            // Create a simple PDF brochure
            const brochureContent = `
                <!DOCTYPE html>
                <html>
                <head>
                    <title>BiBi Catering Brochure</title>
                    <style>
                        body { font-family: Arial, sans-serif; padding: 20px; }
                        h1 { color: #e63946; }
                        .service { margin: 20px 0; border-bottom: 1px solid #ccc; padding-bottom: 20px; }
                    </style>
                </head>
                <body>
                    <h1>BiBi Catering Services</h1>
                    ${services.map(service => `
                        <div class="service">
                            <h2>${service.name}</h2>
                            <p>${service.description}</p>
                            <p><strong>Starting at: $${service.price}/person</strong></p>
                        </div>
                    `).join('')}
                </body>
                </html>
            `;
            
            const blob = new Blob([brochureContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'bibicatering-brochure.html';
            a.click();
        }
        
        function downloadImage(url, filename) {
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
        }
        
        // Booking Functions
        function openBookingModal(serviceId) {
            const service = services.find(s => s.id === serviceId);
            const modal = document.getElementById('bookingModal');
            const content = document.getElementById('bookingModalContent');
            
            content.innerHTML = `
                <form id="bookingForm" onsubmit="submitBooking(event, ${serviceId})">
                    <input type="hidden" name="serviceId" value="${serviceId}">
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Service</label>
                        <input type="text" value="${service.name}" readonly style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Name *</label>
                        <input type="text" name="name" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Email *</label>
                        <input type="email" name="email" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Phone *</label>
                        <input type="tel" name="phone" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Event Date *</label>
                        <input type="date" name="eventDate" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Number of Guests *</label>
                        <input type="number" name="guests" min="1" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Additional Notes</label>
                        <textarea name="notes" rows="4" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;"></textarea>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button type="button" class="btn btn-outline" onclick="closeBookingModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Submit Booking
                        </button>
                    </div>
                </form>
            `;
            
            modal.style.display = 'flex';
            
            // Set minimum date to today
            const dateInput = content.querySelector('input[name="eventDate"]');
            dateInput.min = new Date().toISOString().split('T')[0];
        }
        
        async function submitBooking(event, serviceId) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);
            const bookingData = {
                serviceId,
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                eventDate: formData.get('eventDate'),
                guests: formData.get('guests'),
                notes: formData.get('notes'),
                status: 'pending',
                createdAt: new Date().toISOString()
            };
            
            // Save to Supabase
            await saveBooking(bookingData);
            
            // Also send WhatsApp message
            const service = services.find(s => s.id === serviceId);
            const whatsappMessage = `New Booking Inquiry:\nService: ${service.name}\nName: ${bookingData.name}\nEmail: ${bookingData.email}\nPhone: ${bookingData.phone}\nDate: ${bookingData.eventDate}\nGuests: ${bookingData.guests}\nNotes: ${bookingData.notes}`;
            
            closeBookingModal();
            
            // Optionally open WhatsApp for confirmation
            setTimeout(() => {
                window.open(`https://wa.me/+15551234567?text=${encodeURIComponent(whatsappMessage)}`, '_blank');
            }, 1000);
        }
        
        function startWhatsAppBooking() {
            const message = `Hello BiBi Catering! I'm interested in booking your services. Can you provide more information?`;
            window.open(`https://wa.me/+15551234567?text=${encodeURIComponent(message)}`, '_blank');
        }
        
        function closeBookingModal() {
            document.getElementById('bookingModal').style.display = 'none';
        }
        
        function closeShareModal() {
            document.getElementById('shareModal').style.display = 'none';
        }
        
        // Notification System
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // QR Code Generator
        function generateQRCode() {
            const container = document.getElementById('qrCodeContainer');
            QRCode.toCanvas(container, window.location.href, { width: 200 }, (error) => {
                if (error) console.error(error);
            });
        }
        
        // Swiper Initialization
        function initSwiper() {
            setTimeout(() => {
                new Swiper('.swiper-container', {
                    slidesPerView: 1,
                    spaceBetween: 30,
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                    breakpoints: {
                        768: {
                            slidesPerView: 2,
                        },
                        1024: {
                            slidesPerView: 3,
                        }
                    }
                });
            }, 1000);
        }
        
        // Auth Functions
        async function checkAuth() {
            const { data: { user } } = await supabase.auth.getUser();
            if (user) {
                currentUser = user;
            }
        }
        
        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js').then(registration => {
                    console.log('ServiceWorker registered');
                }).catch(error => {
                    console.log('ServiceWorker registration failed:', error);
                });
            });
        }
        
        // Generate QR code when share section loads
        document.addEventListener('DOMContentLoaded', generateQRCode);
        
    </script>
</body>
</html>